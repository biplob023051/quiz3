!function(e){e(document).on("click","#29_package, #49_package",function(){"29_package"==this.id?(e("#29_package_input").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#49_package").removeClass("btn-green").addClass("btn-yellow"),e(".subscribe-text").html(lang_strings.basic_btn_txt)):(e("#49_package_input").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#29_package").removeClass("btn-green").addClass("btn-yellow"),e(".subscribe-text").html(lang_strings.bank_btn_txt)),e(".amount").val(parseInt(this.id)),e("#payment-details").show()}),e(document).on("change",'input:radio[name="package"]',function(){"1"==e(this).val()?(e("#29_package").removeClass("btn-yellow").addClass("btn-green"),e("#49_package").removeClass("btn-green").addClass("btn-yellow"),e(".amount").val("29"),e(".subscribe-text").html(lang_strings.basic_btn_txt),e("#payment-details").show()):"2"==e(this).val()&&(e("#49_package").removeClass("btn-yellow").addClass("btn-green"),e("#29_package").removeClass("btn-green").addClass("btn-yellow"),e(".amount").val("49"),e(".subscribe-text").html(lang_strings.bank_btn_txt),e("#payment-details").show())}),e(document).on("click","#29_package_edit, #49_package_edit",function(){var a,t;"29_package_edit"==this.id?(t=1,e("#29_package_input_edit").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#49_package_edit").removeClass("btn-green").addClass("btn-yellow")):(t=2,e("#49_package_input_edit").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#29_package_edit").removeClass("btn-green").addClass("btn-yellow")),t!=account_level?(a=1==t?lang_strings.downgrade:lang_strings.upgrade,1!=e("#confirm-upgrade").attr("data-expire")?e("#confirm-upgrade").html(a).show().attr("disabled",!1):e("#confirm-upgrade").html(a).show().attr("disabled",!0),1==t?e("#purchase-again").html(lang_strings.downgrade_next_buy):e("#purchase-again").html(lang_strings.upgrade_next_buy)):(e("#confirm-upgrade").html(lang_strings.current_plan).show().attr("disabled",!0),e("#purchase-again").html(lang_strings.next_buy))}),e(document).on("change",'input:radio[name="upgrade"]',function(){if(e(this).val()!=account_level){var a="",t="";switch(e(this).val()){case"1":e("#29_package_edit").removeClass("btn-yellow").addClass("btn-green"),e("#49_package_edit").removeClass("btn-green").addClass("btn-yellow"),a=lang_strings.downgrade,t=lang_strings.downgrade_next_buy;break;case"2":e("#49_package_edit").removeClass("btn-yellow").addClass("btn-green"),e("#29_package_edit").removeClass("btn-green").addClass("btn-yellow"),a=lang_strings.upgrade,t=lang_strings.upgrade_next_buy;break;default:e("#29_package_edit").removeClass("btn-green").addClass("btn-yellow"),e("#49_package_edit").removeClass("btn-green").addClass("btn-yellow"),a=lang_strings.confirm,t=lang_strings.next_buy}1!=e("#confirm-upgrade").attr("data-expire")?e("#confirm-upgrade").html(a).show().attr("disabled",!1):e("#confirm-upgrade").html(a).show().attr("disabled",!0),e("#purchase-again").html(t)}else 1==account_level?(e("#29_package_edit").removeClass("btn-yellow").addClass("btn-green"),e("#49_package_edit").removeClass("btn-green").addClass("btn-yellow")):(e("#49_package_edit").removeClass("btn-yellow").addClass("btn-green"),e("#29_package_edit").removeClass("btn-green").addClass("btn-yellow")),e("#confirm-upgrade").html(lang_strings.current_plan).show().attr("disabled",!0),e("#purchase-again").html(lang_strings.next_buy)}),e(document).on("click","#29_package_activate, #49_package_activate",function(){var a,t="";"29_package_activate"==this.id?(a=1,e("#29_package_input_activate").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#49_package_activate").removeClass("btn-green").addClass("btn-yellow")):(a=2,e("#49_package_input_activate").prop("checked",!0),e(this).removeClass("btn-yellow").addClass("btn-green"),e("#29_package_activate").removeClass("btn-green").addClass("btn-yellow")),t=account_level==a?lang_strings.reactivate:2==account_level?lang_strings.reactivate_downgrade:lang_strings.reactivate_upgrade,e("#confirm-reactivate").html(t).show().attr("disabled",!1)}),e(document).on("change",'input:radio[name="activate"]',function(){var a="";switch(a=account_level==e(this).val()?lang_strings.reactivate:2==account_level?lang_strings.reactivate_downgrade:lang_strings.reactivate_upgrade,e(this).val()){case"1":e("#29_package_activate").removeClass("btn-yellow").addClass("btn-green"),e("#49_package_activate").removeClass("btn-green").addClass("btn-yellow");break;case"2":e("#49_package_activate").removeClass("btn-yellow").addClass("btn-green"),e("#29_package_activate").removeClass("btn-green").addClass("btn-yellow");break;default:window.location.reload()}e("#confirm-reactivate").html(a).show().attr("disabled",!1)}),e(document).on("click","#confirm-reactivate",function(a){a.preventDefault();var t=e('input:radio[name="activate"]:checked').val();e(this).html(lang_strings.processing+' <i class="fa fa-spinner fa-pulse"></i>').attr("disabled",!0),e.ajax({type:"post",url:projectBaseUrl+"users/reactivatePlan",data:{utype:t},dataType:"json",success:function(a){e("#invoice-payment").modal("hide"),1==a.success?(e("#pay-title").html(lang_strings.reactivate_title),"UPGRADE"==a.type?e("#pay-body").html(lang_strings.reactivate_upgraded_body):"DOWNGRADE"==a.type?e("#pay-body").html(lang_strings.reactivate_downgraded_body):e("#pay-body").html(lang_strings.reactivate_body),e("#invoice-success-dialog").modal("show")):e("#invoice-error-dialog").modal("show")},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),e(document).on("click","#confirm-upgrade",function(a){a.preventDefault();var t=e('input:radio[name="upgrade"]:checked').val();if(t==account_level)return alert("Something went wrong, please try again later"),window.location.reload(),!1;e(this).html(lang_strings.processing+' <i class="fa fa-spinner fa-pulse"></i>').attr("disabled",!0),e.ajax({type:"post",url:projectBaseUrl+"users/changePlan",data:{utype:t},dataType:"json",success:function(a){e("#invoice-payment").modal("hide"),1==a.success?("Cancel"==t?(e("#pay-title").html(lang_strings.cancel_title),e("#pay-body").html(lang_strings.cancel_body)):1==t?(e("#pay-title").html(lang_strings.downgrade_title),e("#pay-body").html(lang_strings.downgrade_body)):(e("#pay-title").html(lang_strings.upgrade_title),e("#pay-body").html(lang_strings.upgrade_body)),e("#invoice-success-dialog").modal("show")):(alert("Something went wrong, please try again later"),window.location.reload())},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),e(document).on("click","#purchase-again",function(a){a.preventDefault();var t=e('input:radio[name="upgrade"]:checked').val();e(this).html(lang_strings.processing+' <i class="fa fa-spinner fa-pulse"></i>').attr("disabled",!0),e.ajax({type:"post",url:projectBaseUrl+"users/nextYearSubscription",data:{utype:t},dataType:"json",success:function(a){e("#invoice-payment").modal("hide"),1==a.success?(e("#pay-title").html(lang_strings.next_year_title),3==a.type?e("#pay-body").html(lang_strings.upgrade_next_year_body):2==a.type?e("#pay-body").html(lang_strings.downgrade_next_year_body):e("#pay-body").html(lang_strings.next_year_body),e("#invoice-success-dialog").modal("show")):e("#invoice-error-dialog").modal("show")},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),e(document).on("submit","#change-form",function(a){a.preventDefault(),e("#old-password-error").hide(),e("#password1-error").hide(),e("#password2-error").hide(),e("#submit-change").attr("disabled",!0),e.ajax({type:"post",url:projectBaseUrl+"users/changePassword",data:e(this).serialize(),dataType:"json",success:function(a){e("#submit-change").attr("disabled",!1),a.success?(e("#change-password").modal("hide"),e.notify({icon:"",title:"",message:a.message},{type:"success",delay:2e3,z_index:1e4})):(e.notify({icon:"",title:"",message:a.message},{type:"danger",delay:1e3,z_index:1e4}),e.each(a.errors,function(a,t){"old_password"==a?t._empty?e("#old-password-error").text(t._empty).show():e("#old-password-error").text(t.custom).show():t._empty?e("#"+a+"-error").text(t._empty).show():t.length?e("#"+a+"-error").text(t.length).show():e("#"+a+"-error").text(t.match).show()}))},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),e("#invoice-success-dialog").on("hidden.bs.modal",function(){"undefined"!=typeof paySuccess&&"1"==paySuccess?window.location=projectBaseUrl+"users/paySuccess":window.location.reload()}),e(document).on("change","#quiz-filter select",function(){e("form#quiz-filter").submit()}),e("#change-password").on("shown.bs.modal",function(a){e("#change-form")[0].reset(),e("#old-password-error").hide(),e("#password1-error").hide(),e("#password2-error").hide()}),e(document).on("change","#language",function(){e(".allsubject").hide(),e("#subjects-"+e(this).val()).show()})}(jQuery);