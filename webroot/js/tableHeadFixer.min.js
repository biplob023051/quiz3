!function(t){t.fn.tableHeadFixer=function(n){function o(){function o(n){n.each(function(n,o){var o=t(o),i=t(o).parent(),r=o.css("background-color");r="transparent"==r||"rgba(0, 0, 0, 0)"==r?null:r;var e=i.css("background-color"),c=(e="transparent"==e||"rgba(0, 0, 0, 0)"==e?null:e)||"white";c=r||c,o.css("background-color",c)})}function i(n,o){for(var i=c.left,r=1,e=1;e<=i;e+=r){var a=r>1?e-1:e,f=t(n).find("> *:nth-child("+a+")"),l=f.prop("colspan");f.cellPos().left<i&&o(f),r=l}}function r(n,o){for(var i=c.right,r=1,e=1;e<=i;e+=r){var a=r>1?e-1:e,f=t(n).find("> *:nth-last-child("+a+")"),l=f.prop("colspan");o(f),r=l}}var e={head:!0,foot:!1,left:0,right:0,"z-index":0},c=t.extend({},e,n);c.table=this,c.parent=t(c.table).parent(),function(){var n=t(c.parent),o=t(c.table);n.append(o),n.css({"overflow-x":"auto","overflow-y":"auto"}),n.scroll(function(){var t=n[0].scrollWidth,o=n[0].clientWidth,i=n[0].scrollHeight,r=n[0].clientHeight,e=n.scrollTop(),a=n.scrollLeft();c.head&&this.find("thead tr > *").css("top",e),c.foot&&this.find("tfoot tr > *").css("bottom",i-r-e),c.left>0&&c.leftColumns.css("left",a),c.right>0&&c.rightColumns.css("right",t-o-a)}.bind(o))}(),1==c.head&&function(){var n=t(c.table).find("thead"),i=(n.find("tr"),n.find("tr > *"));o(i),i.css({position:"relative"})}(),1==c.foot&&function(){var n=t(c.table).find("tfoot"),i=(n.find("tr"),n.find("tr > *"));o(i),i.css({position:"relative"})}(),c.left>0&&function(){var n=t(c.table);c.leftColumns=t(),n.find("tr").each(function(t,n){i(n,function(t){c.leftColumns=c.leftColumns.add(t)})}),c.leftColumns.each(function(n,i){o(i=t(i)),i.css({position:"relative"})})}(),c.right>0&&function(){var n=t(c.table);c.right;c.rightColumns=t(),n.find("tr").each(function(t,n){r(n,function(t){c.rightColumns=c.rightColumns.add(t)})}),c.rightColumns.each(function(n,i){o(i=t(i)),i.css({position:"relative"})})}(),function(){var n=t(c.table);if(c.head&&(c.left>0&&(o=n.find("thead tr")).each(function(n,o){i(o,function(n){t(n).css("z-index",c["z-index"]+1)})}),c.right>0&&(o=n.find("thead tr")).each(function(n,o){r(o,function(n){t(n).css("z-index",c["z-index"]+1)})})),c.foot&&(c.left>0&&(o=n.find("tfoot tr")).each(function(n,o){i(o,function(n){t(n).css("z-index",c["z-index"])})}),c.right>0)){var o=n.find("tfoot tr");o.each(function(n,o){r(o,function(n){t(n).css("z-index",c["z-index"])})})}}(),t(c.parent).trigger("scroll"),t(window).resize(function(){t(c.parent).trigger("scroll")})}return this.each(function(){o.call(this)})}}(jQuery),function(t){function n(n){var o=[];n.children("tr").each(function(n,i){t(i).children("td, th").each(function(i,r){var e,c,a=t(r),f=0|a.attr("colspan"),l=0|a.attr("rowspan");for(f=f||1,l=l||1;o[n]&&o[n][i];++i);for(e=i;e<i+f;++e)for(c=n;c<n+l;++c)o[c]||(o[c]=[]),o[c][e]=!0;var s={top:n,left:i};a.data("cellPos",s)})})}t.fn.cellPos=function(t){var o=this.first(),i=o.data("cellPos");return i&&!t||n(o.closest("table, thead, tbody, tfoot")),i=o.data("cellPos")}}(jQuery);