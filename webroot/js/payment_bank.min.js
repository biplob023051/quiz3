$(document).on("change",'input:radio[name="upgrade"]',function(){var e="",a="";e=lang_strings.confirm,a=lang_strings.next_buy,1!=$("#confirm-upgrade").attr("data-expire")?$("#confirm-upgrade").html(e).show().attr("disabled",!1):$("#confirm-upgrade").html(e).show().attr("disabled",!0),$("#purchase-again").html(a)}),$(document).on("click","#confirm-upgrade",function(e){e.preventDefault();$(this).html(lang_strings.processing+' <i class="fa fa-spinner fa-pulse"></i>').attr("disabled",!0),$.ajax({type:"post",url:projectBaseUrl+"users/changePlan",data:{utype:"Cancel"},dataType:"json",success:function(e){$("#invoice-payment").modal("hide"),1==e.success?($("#pay-title").html(lang_strings.cancel_title),$("#pay-body").html(lang_strings.cancel_body),$("#invoice-success-dialog").modal("show")):(alert("Something went wrong, please try again later"),window.location.reload())},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),$(document).on("click","#confirm-reactivate",function(e){e.preventDefault();$(this).html(lang_strings.processing+' <i class="fa fa-spinner fa-pulse"></i>').attr("disabled",!0),$.ajax({type:"post",url:projectBaseUrl+"users/reactivatePlan",data:{utype:2},dataType:"json",success:function(e){$("#invoice-payment").modal("hide"),1==e.success?($("#pay-title").html(lang_strings.reactivate_title),$("#pay-body").html(lang_strings.reactivate_body),$("#invoice-success-dialog").modal("show")):$("#invoice-error-dialog").modal("show")},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),$(document).on("submit","#change-form",function(e){e.preventDefault(),$("#old-password-error").hide(),$("#password1-error").hide(),$("#password2-error").hide(),$("#submit-change").attr("disabled",!0),$.ajax({type:"post",url:projectBaseUrl+"users/changePassword",data:$(this).serialize(),dataType:"json",success:function(e){$("#submit-change").attr("disabled",!1),e.success?($("#change-password").modal("hide"),$.notify({icon:"",title:"",message:e.message},{type:"success",delay:2e3,z_index:1e4})):($.notify({icon:"",title:"",message:e.message},{type:"danger",delay:1e3,z_index:1e4}),$.each(e.errors,function(e,a){"old_password"==e?a._empty?$("#old-password-error").text(a._empty).show():$("#old-password-error").text(a.custom).show():a._empty?$("#"+e+"-error").text(a._empty).show():a.length?$("#"+e+"-error").text(a.length).show():$("#"+e+"-error").text(a.match).show()}))},error:function(){alert("Something went wrong, please try again later"),window.location.reload()}})}),$("#invoice-success-dialog").on("hidden.bs.modal",function(){window.location.reload()}),$(document).on("change","#quiz-filter select",function(){$("form#quiz-filter").submit()}),$("#change-password").on("shown.bs.modal",function(e){$("#change-form")[0].reset(),$("#old-password-error").hide(),$("#password1-error").hide(),$("#password2-error").hide()}),$(document).on("change","#language",function(){$(".allsubject").hide(),$("#subjects-"+$(this).val()).show()});